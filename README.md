# Домашнее задание к занятию "`12.5 Индексы`" - `Алифанов Сергей`

### Задание 1. Резервное копирование

### Кейс
Финансовая компания решила увеличить надёжность работы баз данных и их резервного копирования. 

Необходимо описать, какие варианты резервного копирования подходят в случаях: 

1.1. Необходимо восстанавливать данные в полном объёме за предыдущий день.

-В данном случае подойдет полное копирование, поскольку в данном варианте будет соблюдаться условие ПОЛНОГО объема восстановления.Также может подойти дифференцированное копирование.

1.2. Необходимо восстанавливать данные за час до предполагаемой поломки.

- Тут может помочь как дифференциальный бекап так и инкрементный, поскольку подразумевают собой создание частых точек восстановления.

1.3.* Возможен ли кейс, когда при поломке базы происходило моментальное переключение на работающую или починенную базу данных.

- Да, возможен, если настроено несколько “мастеров”. При поломке одного, остается работать другой.

*Приведите ответ в свободной форме.*

---

### Задание 2. PostgreSQL

2.1. С помощью официальной документации приведите пример команды резервирования данных и восстановления БД (pgdump/pgrestore).

-Резервирование:
`pg_dump [параметр-подключения...] [параметр...] [имя_бд]`

`pg_dump mydb > db.sql`

-Восстановление:
`pg_restore [параметр-подключения...] [параметр...] [имя_файла]`

Восстановление из архива в чистую новую базу данных newdb:
`pg_restore -d newdb db.dump`


---

### Задание 3. MySQL

3.1. С помощью официальной документации приведите пример команды инкрементного резервного копирования базы данных MySQL. 

```
mysqlbackup --defaults-file=/home/dbadmin/my.cnf \
  --incremental --incremental-base=history:last_backup \
  --backup-dir=/home/dbadmin/temp_dir \
  --backup-image=incremental_image1.bi \
   backup-to-image
```

